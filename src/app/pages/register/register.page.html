<app-header titulo="Registro de cuenta" [barraCarga]="bandera"></app-header>

<ion-content class="ion-padding">
    <ion-img src="assets/UNIGO.png" style="width: 150px; margin: auto;"></ion-img>

    <form [formGroup]="form" (ngSubmit)="registrarse()">
        <ion-item>
            <ion-input required labelPlacement="floating" type="text" aria-label="Nombre" label="Nombre" name="nombre" formControlName="nombre" ></ion-input>
        </ion-item>

        <ion-text color="primary" *ngIf="form.get('nombre')?.errors?.['required'] && form.get('nombre')?.touched">
            <p style="margin-left: 5%; color: #ff0000;">El nombre es requerido</p>
        </ion-text>

        <ion-item> 
            <ion-input required labelPlacement="floating" type="email" aria-label="Email" label="E-mail" name="email"  formControlName="email"></ion-input>
        </ion-item>

        <ion-text color="primary" *ngIf="form.get('email')?.errors?.['required'] && form.get('email')?.touched">
            <p style="margin-left: 5%; color: #ff0000;">El email es requerido</p>
        </ion-text>

        <ion-text color="primary" *ngIf="form.get('email')?.errors?.['email'] && form.get('email')?.touched">
            <p style="margin-left: 5%; color: #ff0000;">Ingrese un email valido</p>
        </ion-text>

        <ion-item>
            <ion-input required labelPlacement="floating" [minlength]="6" type="password" aria-label="Contraseña" label="Contraseña" name="password" formControlName="password"></ion-input>
        </ion-item>

        <ion-text color="primary" *ngIf="form.get('password')?.errors?.['minlength'] && form.get('password')?.touched">
            <p style="margin-left: 5%; color: #ff0000;">La contraseña debe tener minimo 6 caracteres</p>
        </ion-text>

        <ion-button expand="block" shape="round" color="primary" type="submit" [disabled]="form.invalid">
            Registrarse
        </ion-button>
    </form>
    <ion-text>
        <h5 color="primary">Ya tienes cuenta? <a routerLink="/login" style="color: #5260ff;">Iniciar Sesion</a></h5>
    </ion-text>
</ion-content>
